<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    
    <div class="middle">
        <div class="multi-range-slider-tamanho">
            <input type="range" id="input-left-tamanho" min="5" max="10" value="5" onchange="changeMinValueTamanho(event)">
            <input type="range" id="input-right-tamanho" min="5" max="10" value="10" onchange="changeMaxValueTamanho(event)">
    
            <div class="slider">
                <div class="track"></div>
                <div class="range"></div>
                <div class="thumb left"><span id="min-value-float-tamanho" class="value-float">5</span></div>
                <div class="thumb right"><span id="max-value-float-tamanho" class="value-float">10</span></div>
            </div>

        </div>
    </div>


    <script>
        const inputLeftTamanho = document.getElementById("input-left-tamanho");
        const inputRightTamanho = document.getElementById("input-right-tamanho");

        const thumbLeftTamanho = document.querySelector(".multi-range-slider-tamanho .slider > .thumb.left");
        const thumbRightTamanho = document.querySelector(".multi-range-slider-tamanho .slider > .thumb.right");
        var rangeTamanho = document.querySelector(".multi-range-slider-tamanho .slider > .range");

        function setLeftValueTamanho() {
            var _this = inputLeftTamanho,
                min = parseInt(_this.min),
                max = parseInt(_this.max);

            _this.value = Math.min(parseInt(_this.value), parseInt(inputRightTamanho.value));

            var percent = ((_this.value - min) / (max - min)) * 100;

            thumbLeftTamanho.style.left = percent + "%";
            rangeTamanho.style.left = percent + "%";
        }
        setLeftValueTamanho();

        function setRightValueTamanho() {
            var _this = inputRightTamanho,
                min = parseInt(_this.min),
                max = parseInt(_this.max);

            _this.value = Math.max(parseInt(_this.value), parseInt(inputLeftTamanho.value));

            var percent = ((_this.value - min) / (max - min)) * 100;

            thumbRightTamanho.style.right = (100 - percent) + "%";
            rangeTamanho.style.right = (100 - percent) + "%";
        }
        setRightValueTamanho();

        inputLeftTamanho.addEventListener("input", setLeftValueTamanho);
        inputRightTamanho.addEventListener("input", setRightValueTamanho);

        inputLeftTamanho.addEventListener("mouseover", function() {
            thumbLeftTamanho.classList.add("hover");
        });
        inputLeftTamanho.addEventListener("mouseout", function() {
            thumbLeftTamanho.classList.remove("hover");
        });
        inputLeftTamanho.addEventListener("mousedown", function() {
            thumbLeftTamanho.classList.add("active");
        });
        inputLeftTamanho.addEventListener("mouseup", function() {
            thumbLeftTamanho.classList.remove("active");
        });

        inputRightTamanho.addEventListener("mouseover", function() {
            thumbRightTamanho.classList.add("hover");
        });
        inputRightTamanho.addEventListener("mouseout", function() {
            thumbRightTamanho.classList.remove("hover");
        });
        inputRightTamanho.addEventListener("mousedown", function() {
            thumbRightTamanho.classList.add("active");
        });
        inputRightTamanho.addEventListener("mouseup", function() {
            thumbRightTamanho.classList.remove("active");
        });

        // Função que imprime o valor do range
        const minValueFloatTamanho = document.getElementById('min-value-float-tamanho');
        const maxValueFloatTamanho = document.getElementById('max-value-float-tamanho')

        // Input range alterando o valor da div flutuante
        function changeMinValueTamanho(event) {
            minValueFloatTamanho.innerText = event.target.value;
        }

        function changeMaxValueTamanho(event) {
            maxValueFloatTamanho.innerText = event.target.value;
        }
    </script>
</body>
</html>